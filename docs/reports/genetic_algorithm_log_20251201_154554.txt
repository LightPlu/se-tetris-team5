=== 테트리스 AI 가중치 최적화 (유전 알고리즘) ===

다중 실행 모드: 1번 실행 후 최고 결과 선택


================================================================================
=== 실행 1/1 ===
================================================================================
=== 유전 알고리즘 시작 ===
집단 크기: 20
엘리트 개체 수: 4
최대 세대 수: 5
기본 돌연변이 확률: 0.15 (적응적)
교차 확률: 0.7

※ 게임은 메모리 상에서만 실행되며 UI는 없습니다.
※ 빠른 평가 모드: 게임당 최대 5초, 최대 1000회 이동
※ 일반 평가 모드: 각 세대 최고 개체에 대해 정확한 평가 수행

초기 집단 생성 완료: 20개 개체

================================================================================
=== 세대 0 평가 시작 ===
================================================================================
상대 AI: 기본 가중치 사용
개체 1/20 평가 완료 (9.97초) - 적합도: 9634.91
개체 2/20 평가 완료 (9.48초) - 적합도: 1943.05
개체 3/20 평가 완료 (9.33초) - 적합도: 7725.36
개체 4/20 평가 완료 (9.61초) - 적합도: 1931.52
개체 5/20 평가 완료 (9.74초) - 적합도: 422.28
개체 6/20 평가 완료 (9.56초) - 적합도: 4331.22
개체 7/20 평가 완료 (9.29초) - 적합도: 930.27
개체 8/20 평가 완료 (9.67초) - 적합도: 3324.04
개체 9/20 평가 완료 (9.55초) - 적합도: 3834.90
개체 10/20 평가 완료 (9.96초) - 적합도: 3838.51
개체 11/20 평가 완료 (9.27초) - 적합도: 3828.84
개체 12/20 평가 완료 (8.63초) - 적합도: 925.35
개체 13/20 평가 완료 (8.81초) - 적합도: -2480.38
개체 14/20 평가 완료 (8.84초) - 적합도: 6728.37
개체 15/20 평가 완료 (9.88초) - 적합도: 932.86
개체 16/20 평가 완료 (9.16초) - 적합도: 3822.32
개체 17/20 평가 완료 (8.45초) - 적합도: 6743.99
개체 18/20 평가 완료 (9.36초) - 적합도: 7741.92
개체 19/20 평가 완료 (9.53초) - 적합도: 429.56
개체 20/20 평가 완료 (9.47초) - 적합도: -2469.76

--------------------------------------------------------------------------------
세대 0 결과 요약 (빠른 평가):
  최고 적합도: 9634.91 (평균 줄: 20.0, 평균 점수: 10030)
  평균 적합도: 3205.96
  최저 적합도: -2480.38
  소요 시간: 187.6초
  최고 가중치: LandingH: -1.49, EPCM: 5.14, RowTrans: -8.72, ColTrans: -10.10, Holes: -16.62, WellSums: -2.79, Attack2: 20.14, Attack3: 19.18, Attack4: 32.60
--------------------------------------------------------------------------------

=== 세대 0 최고 개체 정밀 평가 시작 ===
선택된 최적 개체 (빠른 평가 평균 적합도 기준):
  적합도: 9634.91
  가중치: LandingH: -1.49, EPCM: 5.14, RowTrans: -8.72, ColTrans: -10.10, Holes: -16.62, WellSums: -2.79, Attack2: 20.14, Attack3: 19.18, Attack4: 32.60
정밀 평가 결과: 적합도=-2448.31, 평균 줄=4.0, 평균 점수=2001 (소요 시간: 25.5초)
--------------------------------------------------------------------------------

세대 0 평가 완료 - 소요 시간: 213.2초 (빠른: 187.6초, 정확한: 25.5초)

최고 개체: Fitness: 9634.91 (Lines: 20.0, Score: 10030) - LandingH: -1.49, EPCM: 5.14, RowTrans: -8.72, ColTrans: -10.10, Holes: -16.62, WellSums: -2.79, Attack2: 20.14, Attack3: 19.18, Attack4: 32.60

================================================================================
=== 세대 1 평가 시작 ===
================================================================================
상대 AI: 이전 세대 최고 개체 사용
개체 1/20 평가 완료 (8.18초) - 적합도: 917.75
개체 2/20 평가 완료 (8.31초) - 적합도: 419.11
개체 3/20 평가 완료 (8.49초) - 적합도: 435.08
개체 4/20 평가 완료 (9.61초) - 적합도: 4323.51
개체 5/20 평가 완료 (9.92초) - 적합도: 6235.03
개체 6/20 평가 완료 (10.29초) - 적합도: 4834.79
개체 7/20 평가 완료 (8.70초) - 적합도: 9646.28
개체 8/20 평가 완료 (9.37초) - 적합도: 3828.84
개체 9/20 평가 완료 (9.23초) - 적합도: 929.96
개체 10/20 평가 완료 (8.57초) - 적합도: 927.03
개체 11/20 평가 완료 (8.78초) - 적합도: 3826.55
개체 12/20 평가 완료 (9.44초) - 적합도: 926.17
개체 13/20 평가 완료 (8.93초) - 적합도: 6228.45
개체 14/20 평가 완료 (11.68초) - 적합도: 924.76
개체 15/20 평가 완료 (11.15초) - 적합도: 3822.70
개체 16/20 평가 완료 (8.99초) - 적합도: 3820.37
개체 17/20 평가 완료 (9.09초) - 적합도: -1980.92
개체 18/20 평가 완료 (9.78초) - 적합도: 3822.25
개체 19/20 평가 완료 (8.93초) - 적합도: 927.67
개체 20/20 평가 완료 (9.63초) - 적합도: 3832.36

--------------------------------------------------------------------------------
세대 1 결과 요약 (빠른 평가):
  최고 적합도: 9646.28 (평균 줄: 20.0, 평균 점수: 10058)
  평균 적합도: 2932.39
  최저 적합도: -1980.92
  소요 시간: 187.1초
  최고 가중치: LandingH: -7.25, EPCM: 5.58, RowTrans: -1.38, ColTrans: -1.13, Holes: -17.03, WellSums: -9.61, Attack2: 12.49, Attack3: 13.84, Attack4: 59.16
--------------------------------------------------------------------------------

=== 세대 1 최고 개체 정밀 평가 시작 ===
선택된 최적 개체 (빠른 평가 평균 적합도 기준):
  적합도: 9646.28
  가중치: LandingH: -7.25, EPCM: 5.58, RowTrans: -1.38, ColTrans: -1.13, Holes: -17.03, WellSums: -9.61, Attack2: 12.49, Attack3: 13.84, Attack4: 59.16
정밀 평가 결과: 적합도=9700.16, 평균 줄=20.0, 평균 점수=10102 (소요 시간: 24.5초)
--------------------------------------------------------------------------------

세대 1 평가 완료 - 소요 시간: 211.7초 (빠른: 187.1초, 정확한: 24.5초)

최고 개체: Fitness: 9646.28 (Lines: 20.0, Score: 10058) - LandingH: -7.25, EPCM: 5.58, RowTrans: -1.38, ColTrans: -1.13, Holes: -17.03, WellSums: -9.61, Attack2: 12.49, Attack3: 13.84, Attack4: 59.16
예상 남은 시간: 약 10.6분 (637.3초)

================================================================================
=== 세대 2 평가 시작 ===
================================================================================
상대 AI: 이전 세대 최고 개체 사용
개체 1/20 평가 완료 (9.45초) - 적합도: 3829.90
개체 2/20 평가 완료 (9.78초) - 적합도: -969.85
개체 3/20 평가 완료 (9.83초) - 적합도: 3824.65
개체 4/20 평가 완료 (9.89초) - 적합도: -2480.13
개체 5/20 평가 완료 (9.34초) - 적합도: 3827.86
개체 6/20 평가 완료 (9.21초) - 적합도: -2481.38
개체 7/20 평가 완료 (9.17초) - 적합도: -5381.65
개체 8/20 평가 완료 (10.64초) - 적합도: -5378.71
개체 9/20 평가 완료 (9.95초) - 적합도: 1922.99
개체 10/20 평가 완료 (8.32초) - 적합도: 3831.63
개체 11/20 평가 완료 (9.10초) - 적합도: -5381.81
개체 12/20 평가 완료 (8.65초) - 적합도: 933.60
개체 13/20 평가 완료 (8.72초) - 적합도: -2473.97
개체 14/20 평가 완료 (9.39초) - 적합도: 6742.78
개체 15/20 평가 완료 (8.39초) - 적합도: 4832.17
개체 16/20 평가 완료 (8.93초) - 적합도: 3329.95
개체 17/20 평가 완료 (10.14초) - 적합도: -2469.52
개체 18/20 평가 완료 (9.84초) - 적합도: -2479.05
개체 19/20 평가 완료 (9.53초) - 적합도: 3823.96
개체 20/20 평가 완료 (9.45초) - 적합도: 929.79

--------------------------------------------------------------------------------
세대 2 결과 요약 (빠른 평가):
  최고 적합도: 6742.78 (평균 줄: 16.0, 평균 점수: 8048)
  평균 적합도: 416.66
  최저 적합도: -5381.81
  소요 시간: 187.7초
  최고 가중치: LandingH: -1.01, EPCM: 5.58, RowTrans: -1.38, ColTrans: -2.74, Holes: -17.03, WellSums: -3.25, Attack2: 13.77, Attack3: 13.84, Attack4: 32.60
--------------------------------------------------------------------------------

=== 세대 2 최고 개체 정밀 평가 시작 ===
선택된 최적 개체 (빠른 평가 평균 적합도 기준):
  적합도: 6742.78
  가중치: LandingH: -1.01, EPCM: 5.58, RowTrans: -1.38, ColTrans: -2.74, Holes: -17.03, WellSums: -3.25, Attack2: 13.77, Attack3: 13.84, Attack4: 32.60
[BoardManager DEBUG] clearedRows=[19]
정밀 평가 결과: 적합도=483.41, 평균 줄=8.0, 평균 점수=4048 (소요 시간: 29.8초)
--------------------------------------------------------------------------------

세대 2 평가 완료 - 소요 시간: 217.5초 (빠른: 187.7초, 정확한: 29.8초)

최고 개체: Fitness: 6742.78 (Lines: 16.0, Score: 8048) - LandingH: -1.01, EPCM: 5.58, RowTrans: -1.38, ColTrans: -2.74, Holes: -17.03, WellSums: -3.25, Attack2: 13.77, Attack3: 13.84, Attack4: 32.60
예상 남은 시간: 약 7.1분 (428.3초)

================================================================================
=== 세대 3 평가 시작 ===
================================================================================
상대 AI: 이전 세대 최고 개체 사용
개체 1/20 평가 완료 (8.80초) - 적합도: -2473.20
개체 2/20 평가 완료 (9.42초) - 적합도: -2480.77
개체 3/20 평가 완료 (9.55초) - 적합도: 3837.40
개체 4/20 평가 완료 (9.21초) - 적합도: 6728.42
개체 5/20 평가 완료 (10.10초) - 적합도: 423.71
개체 6/20 평가 완료 (9.22초) - 적합도: 6730.94
개체 7/20 평가 완료 (8.52초) - 적합도: 424.95
개체 8/20 평가 완료 (10.37초) - 적합도: 6727.53
개체 9/20 평가 완료 (8.22초) - 적합도: 3824.93
개체 10/20 평가 완료 (9.11초) - 적합도: 919.02
개체 11/20 평가 완료 (9.08초) - 적합도: 7732.76
개체 12/20 평가 완료 (7.93초) - 적합도: 9643.67
개체 13/20 평가 완료 (9.22초) - 적합도: 3322.13
개체 14/20 평가 완료 (9.89초) - 적합도: 430.38
개체 15/20 평가 완료 (9.56초) - 적합도: 9634.42
개체 16/20 평가 완료 (10.12초) - 적합도: 922.14
개체 17/20 평가 완료 (9.51초) - 적합도: 421.92
개체 18/20 평가 완료 (9.43초) - 적합도: 421.76
개체 19/20 평가 완료 (9.16초) - 적합도: 3842.11
개체 20/20 평가 완료 (9.60초) - 적합도: 427.19

--------------------------------------------------------------------------------
세대 3 결과 요약 (빠른 평가):
  최고 적합도: 9643.67 (평균 줄: 20.0, 평균 점수: 10056)
  평균 적합도: 3073.07
  최저 적합도: -2480.77
  소요 시간: 186.1초
  최고 가중치: LandingH: -7.80, EPCM: 5.58, RowTrans: -1.88, ColTrans: -1.13, Holes: -18.80, WellSums: -8.69, Attack2: 15.14, Attack3: 19.18, Attack4: 20.20
--------------------------------------------------------------------------------

=== 세대 3 최고 개체 정밀 평가 시작 ===
선택된 최적 개체 (빠른 평가 평균 적합도 기준):
  적합도: 9643.67
  가중치: LandingH: -7.80, EPCM: 5.58, RowTrans: -1.88, ColTrans: -1.13, Holes: -18.80, WellSums: -8.69, Attack2: 15.14, Attack3: 19.18, Attack4: 20.20
정밀 평가 결과: 적합도=9701.18, 평균 줄=20.0, 평균 점수=10091 (소요 시간: 27.8초)
--------------------------------------------------------------------------------

세대 3 평가 완료 - 소요 시간: 213.9초 (빠른: 186.1초, 정확한: 27.8초)

최고 개체: Fitness: 9643.67 (Lines: 20.0, Score: 10056) - LandingH: -7.80, EPCM: 5.58, RowTrans: -1.88, ColTrans: -1.13, Holes: -18.80, WellSums: -8.69, Attack2: 15.14, Attack3: 19.18, Attack4: 20.20
예상 남은 시간: 약 3.6분 (214.1초)

================================================================================
=== 세대 4 평가 시작 ===
================================================================================
상대 AI: 이전 세대 최고 개체 사용
개체 1/20 평가 완료 (9.90초) - 적합도: 923.09
개체 2/20 평가 완료 (9.11초) - 적합도: 3829.52
개체 3/20 평가 완료 (10.11초) - 적합도: 922.22
개체 4/20 평가 완료 (9.47초) - 적합도: 422.14
개체 5/20 평가 완료 (10.01초) - 적합도: 921.32
개체 6/20 평가 완료 (9.87초) - 적합도: -2478.25
개체 7/20 평가 완료 (9.39초) - 적합도: 428.98
개체 8/20 평가 완료 (9.47초) - 적합도: 3330.45
개체 9/20 평가 완료 (10.39초) - 적합도: 435.17
개체 10/20 평가 완료 (9.79초) - 적합도: 7726.19
개체 11/20 평가 완료 (8.91초) - 적합도: 4822.62
개체 12/20 평가 완료 (10.20초) - 적합도: -2471.50
개체 13/20 평가 완료 (9.66초) - 적합도: 421.49
개체 14/20 평가 완료 (8.68초) - 적합도: 3840.35
개체 15/20 평가 완료 (9.82초) - 적합도: 6734.04
개체 16/20 평가 완료 (9.12초) - 적합도: 927.14
개체 17/20 평가 완료 (9.72초) - 적합도: -2478.27
개체 18/20 평가 완료 (9.72초) - 적합도: 3831.94
개체 19/20 평가 완료 (9.40초) - 적합도: 4844.49
개체 20/20 평가 완료 (8.85초) - 적합도: 6738.09

--------------------------------------------------------------------------------
세대 4 결과 요약 (빠른 평가):
  최고 적합도: 7726.19 (평균 줄: 16.0, 평균 점수: 8013)
  평균 적합도: 2183.56
  최저 적합도: -2478.27
  소요 시간: 191.6초
  최고 가중치: LandingH: -7.80, EPCM: 5.58, RowTrans: -1.58, ColTrans: -1.13, Holes: -18.80, WellSums: -8.69, Attack2: 15.14, Attack3: 19.18, Attack4: 59.16
--------------------------------------------------------------------------------

=== 세대 4 최고 개체 정밀 평가 시작 ===
선택된 최적 개체 (빠른 평가 평균 적합도 기준):
  적합도: 7726.19
  가중치: LandingH: -7.80, EPCM: 5.58, RowTrans: -1.58, ColTrans: -1.13, Holes: -18.80, WellSums: -8.69, Attack2: 15.14, Attack3: 19.18, Attack4: 59.16
정밀 평가 결과: 적합도=3865.40, 평균 줄=12.0, 평균 점수=6002 (소요 시간: 32.1초)
--------------------------------------------------------------------------------

세대 4 평가 완료 - 소요 시간: 223.7초 (빠른: 191.6초, 정확한: 32.1초)
예상 남은 시간: 약 0.0분 (0.0초)

=== 최종 평가 (정확한 평가) ===
최종 평가 중... (5게임 플레이)
최종 최고 개체: Fitness: -2424.21 (Lines: 4.0, Score: 2034) - LandingH: -7.80, EPCM: 5.58, RowTrans: -1.58, ColTrans: -1.13, Holes: -18.80, WellSums: -8.69, Attack2: 15.14, Attack3: 19.18, Attack4: 59.16

=== 최적화 완료 ===
총 소요 시간: 18.5분 (1109초)

실행 1 결과:
  적합도: -2424.21
  평균 줄 수: 4.0
  평균 점수: 2034
  소요 시간: 18.5분
  ✓ 새로운 최고 결과!

================================================================================
=== 최종 최고 결과 (다중 실행 중 최고) ===
================================================================================
총 실행 횟수: 1
총 소요 시간: 18.5분

최적 가중치:
LandingH: -7.80, EPCM: 5.58, RowTrans: -1.58, ColTrans: -1.13, Holes: -18.80, WellSums: -8.69, Attack2: 15.14, Attack3: 19.18, Attack4: 59.16

최종 성능:
평균 줄 수: 4.0
평균 점수: 2034
적합도: -2424.21

=== 코드에 사용할 가중치 ===
new WeightSet(-7.80, 5.58, -1.58, -1.13, -18.80, -8.69, 15.14, 19.18, 59.16)

================================================================================
=== 결과 보고서 생성 (최고 실행 기준) ===
================================================================================
================================================================================
테트리스 AI 가중치 최적화 - 유전 알고리즘 결과 보고서
================================================================================
생성 시간: 2025-12-01 16:04:24
총 소요 시간: 18.5분

유전 알고리즘 설정
--------------------------------------------------------------------------------
집단 크기: 20
엘리트 개체 수: 4 (20%)
최대 세대 수: 5
기본 돌연변이 확률: 0.15 (적응적)
교차 확률: 0.7

적합도 계산 방식
--------------------------------------------------------------------------------
1. 생존 시간 보너스: 평균 생존 시간(초) × 10.0
2. 생존 보너스: 게임 수 × 20.0
3. 줄 삭제 보너스: 평균 줄 수 × 100.0
4. 점수 보너스: 평균 점수 × 0.5
5. 승리 보너스: 승리 횟수 × 500.0
6. 패배 패널티: 패배 횟수 × 1000.0
7. 조기 게임 오버 패널티: 점수 0일 때 -500.0
8. 장기 생존 보너스: 평균 19초(실제 5분) 이상 생존 시 +1000.0

적합도 = 생존시간보너스 + 생존보너스 + 줄삭제보너스 + 점수보너스
       + 승리보너스 - 패배패널티 + 조기게임오버패널티 + 장기생존보너스

평가 환경 설정
--------------------------------------------------------------------------------
평가 모드: AI vs AI 대전 모드
빠른 평가: 게임당 최대 10초 (실제 5분 = 평가 8초)
정밀 평가: 게임당 최대 20초 (실제 5분 = 평가 19초)
게임 타이머 간격: 빠른 평가 20ms, 정밀 평가 50ms (실제 800ms)
AI 행동 주기: 빠른 평가 5ms, 정밀 평가 20ms (실제 200ms)
개체당 게임 수: 5게임

최종 최적 가중치
--------------------------------------------------------------------------------
적합도: -2424.21
평균 줄 수: 4.0
평균 점수: 2034

가중치 (El-Tetris + 대전 모드):
  Landing Height: -7.80
  EPCM: 5.58
  Row Transitions: -1.58
  Column Transitions: -1.13
  Holes: -18.80
  Well Sums: -8.69
  Attack 2 Lines: 15.14
  Attack 3 Lines: 19.18
  Attack 4 Lines (Tetris): 59.16

코드에 사용할 가중치:
--------------------------------------------------------------------------------
new WeightSet(-7.80, 5.58, -1.58, -1.13, -18.80, -8.69, 15.14, 19.18, 59.16)

세대별 통계 (빠른 평가)
================================================================================
세대     최고 적합도       평균 적합도       최저 적합도       소요 시간       
--------------------------------------------------------------------------------
0      9634.91      3205.96      -2480.38     3.1분        
1      9646.28      2932.39      -1980.92     3.1분        
2      6742.78      416.66       -5381.81     3.1분        
3      9643.67      3073.07      -2480.77     3.1분        
4      7726.19      2183.56      -2478.27     3.2분        

세대별 정밀 평가 결과
================================================================================
세대     정밀 적합도       평균 줄 수       평균 점수        소요 시간       
--------------------------------------------------------------------------------
1      9700.16      20.0         10102        24.5초       
2      483.41       8.0          4048         29.8초       
3      9701.18      20.0         10091        27.8초       
4      3865.40      12.0         6002         32.1초       

세대별 최적 가중치
================================================================================
세대 0:
  Landing Height: -1.49
  EPCM: 5.14
  Row Transitions: -8.72
  Column Transitions: -10.10
  Holes: -16.62
  Well Sums: -2.79
  Attack 2 Lines: 20.14
  Attack 3 Lines: 19.18
  Attack 4 Lines: 32.60

세대 1:
  Landing Height: -7.25
  EPCM: 5.58
  Row Transitions: -1.38
  Column Transitions: -1.13
  Holes: -17.03
  Well Sums: -9.61
  Attack 2 Lines: 12.49
  Attack 3 Lines: 13.84
  Attack 4 Lines: 59.16

세대 2:
  Landing Height: -1.01
  EPCM: 5.58
  Row Transitions: -1.38
  Column Transitions: -2.74
  Holes: -17.03
  Well Sums: -3.25
  Attack 2 Lines: 13.77
  Attack 3 Lines: 13.84
  Attack 4 Lines: 32.60

세대 3:
  Landing Height: -7.80
  EPCM: 5.58
  Row Transitions: -1.88
  Column Transitions: -1.13
  Holes: -18.80
  Well Sums: -8.69
  Attack 2 Lines: 15.14
  Attack 3 Lines: 19.18
  Attack 4 Lines: 20.20

세대 4:
  Landing Height: -7.80
  EPCM: 5.58
  Row Transitions: -1.58
  Column Transitions: -1.13
  Holes: -18.80
  Well Sums: -8.69
  Attack 2 Lines: 15.14
  Attack 3 Lines: 19.18
  Attack 4 Lines: 59.16

적합도 변화 그래프 (최고/평균)
--------------------------------------------------------------------------------
최고 적합도:
세대  0: ███████████████████████████████████████████████████████████ 9634.91
세대  1: ████████████████████████████████████████████████████████████ 9646.28
세대  2: █████████████████████████████████████████ 6742.78
세대  3: ███████████████████████████████████████████████████████████ 9643.67
세대  4: ███████████████████████████████████████████████ 7726.19

평균 적합도:
세대  0: ██████████████████ 3205.96
세대  1: ████████████████ 2932.39
세대  2:  416.66
세대  3: █████████████████ 3073.07
세대  4: ███████████ 2183.56

가중치 변화 (초기 세대 vs 최종 세대)
--------------------------------------------------------------------------------
가중치                  초기 세대                최종 세대               
--------------------------------------------------------------------------------
Landing Height       -1.49                -7.80               
EPCM                 5.14                 5.58                
Row Transitions      -8.72                -1.58               
Column Transitions   -10.10               -1.13               
Holes                -16.62               -18.80              
Well Sums            -2.79                -8.69               
Attack 2 Lines       20.14                15.14               
Attack 3 Lines       19.18                19.18               
Attack 4 Lines       32.60                59.16               

개선 통계
--------------------------------------------------------------------------------
초기 최고 적합도: 9634.91
최종 최고 적합도: 7726.19
개선량: -1908.73 (-19.8%)

================================================================================

보고서가 저장되었습니다: docs/reports/report_20251201_160424_line_based_weights.txt

보고서가 콘솔에 출력되었고 파일로도 저장되었습니다: docs/reports/report_20251201_160424_line_based_weights.txt
